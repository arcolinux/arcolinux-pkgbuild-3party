# Maintainer: Bruno Pagani <archange@archlinux.org>
# Contributor: Eli Schwartz <eschwartz@archlinux.org>
# Contributor: Alexandre Filgueira <alexfilgueira@antergos.com>

pkgname=arcolinux-nemo-share
pkgver=5.2.0
pkgrel=2
pkgdesc="Various extensions for Nemo"
arch=(x86_64)
license=(GPL2)
url="https://github.com/linuxmint/nemo-extensions"
depends=(nemo)
_preview_deps=(cjs clutter-gtk clutter-gst libmusicbrainz5 gtksourceview4 xreader)
_python_deps=(python-gobject)
_seahorse_deps=(libcryptui)
conflicts=('nemo-share')
makedepends=(intltool gobject-introspection meson samurai)
makedepends+=("${_preview_deps[@]}" "${_python_deps[@]}" "${_seahorse_deps[@]}")
options=(!emptydirs)
source=(${url}/archive/${pkgver}/${pkgname}-${pkgver}.tar.gz
        https://github.com/linuxmint/nemo-extensions/commit/5880e6e6.patch)
sha256sums=('92364ac03be3458d3cdfa39ebd4061babd3926c280459e66f8814a6acc42a6a5'
            '5337e48adff2c41df71c4486449e7182c3481123e089ccf4b8382353aa776f46')
b2sums=('0c9ca96e2ac57a42765f3b598d4681e1f8a00b7804edd0ae500e80ce8d013f3fcdfafdd1ccba7d13d33639e6128aed54b5909baa463c040fd88d64d56d14dcdd'
        '78aa9f105df3f14d80e6eccca95eb32fb74b1266607cfad0c57159e0957eba7cf858b690f934ae8e31e7765afd48cccf7e9fd6d7e3e4cafb8cf17cc4cb86fac0')

build() {
  cd nemo-extensions-${pkgver}/nemo-share
  mkdir -p build
  pushd build
  arch-meson --libexecdir=lib ..
  samu
  popd


}

package_arcolinux-nemo-share(){
  pkgdesc="Samba extension for Nemo"
  depends+=(samba)
  optdepends=('cinnamon-translations: i18n')

  cd nemo-extensions-${pkgver}/nemo-share/build
  DESTDIR="${pkgdir}" samu install
}


